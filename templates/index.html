<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>QR Code Generator</title>
  <link rel="stylesheet" href="{{ url_for('static', filename='style.css') }}">

</head>
<body class="text-center p-5">
  <div class="container">
    <div class="card p-4 mx-auto" style="max-width: 500px;">
      <h3 class="mb-3">For what do you want to generate the QR?</h3>

      <select id="qrType" class="form-select mb-3" onchange="showForm()">
        <option value="" selected disabled>-- Select Type --</option>
        <option value="text">Text</option>
        <option value="url">Website / URL</option>
        <option value="email">Email</option>
        <option value="wifi">WiFi</option>
      </select>

      <form id="qrForm" method="POST" action="/generate" target="_blank">
        <div id="formFields"></div>
        <button type="submit" class="btn btn-primary w-100">Generate QR</button>
      </form>

      <div id="qrPreview"></div>
    </div>
  </div>

  <script>
    function showForm() {
      const type = document.getElementById('qrType').value;
      const form = document.getElementById('formFields');
      form.innerHTML = ''; 

      if (type === 'text') {
        form.innerHTML = `
          <input type="hidden" name="type" value="text">
          <input type="text" name="text" class="form-control mb-3" placeholder="Enter text">
        `;
      } else if (type === 'url') {
        form.innerHTML = `
          <input type="hidden" name="type" value="url">
          <input type="url" name="url" class="form-control mb-3" placeholder="Enter website URL">
        `;
      } else if (type === 'email') {
        form.innerHTML = `
          <input type="hidden" name="type" value="email">
          <input type="email" name="email" class="form-control mb-3" placeholder="Enter email address">
        `;
      } else if (type === 'wifi') {
        form.innerHTML = `
          <input type="hidden" name="type" value="wifi">
          <input type="text" name="ssid" class="form-control mb-2" placeholder="WiFi SSID">
          <input type="text" name="password" class="form-control mb-2" placeholder="WiFi Password">
          <select name="encryption" class="form-select mb-3">
            <option value="WPA">WPA/WPA2</option>
            <option value="WEP">WEP</option>
            <option value="nopass">No Password</option>
          </select>
        `;
      }
    }
  </script>
</body>
</html>
